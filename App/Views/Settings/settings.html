{% extends "base2.html" %}

{% block title %}Settings{% endblock %}

{% block body %}

	<div class="container p-3 bg-light rounded shadow-custom">
	
		<div class="col">
			
			<h2> Ustawienia <hr></hr></h2>
		
		<div id="accordion">	
		
			<div class="card">
				<div class="bg-info pointer" data-toggle="collapse" data-target="#incomesCard" >
					<div class="d-flex flex-row">
						<div class="pl-1 text-white w-100" >
							<b> Kategorie przychodów </b>
						</div>
					</div>
				</div>	
			
				<div id="incomesCard" class="collapse" data-parent="#accordion">
					<div class="card-body">
						<label><b> Kategoria </b></label>
						
						<form id="incomes" method="post">
						</form>
						
					</div>
				</div>
			</div>
		
			<div class="card">
				<div class="bg-info pointer" data-toggle="collapse" data-target="#expensesCard" >
					<div class="d-flex flex-row">
						<div class="pl-1 text-white w-100" >
							<b> Kategorie wydatków </b>
						</div>
					</div>
				</div>	
			
				<div id="expensesCard" class="collapse" data-parent="#accordion">
					<div class="card-body">
						<label><b> Kategoria </b></label>
						
						<form id="expenses" method="post">
						</form>	
						
					</div>
				</div>
			</div>
		
			<div class="card">
				<div class="bg-info pointer" data-toggle="collapse" data-target="#paymentsCard" >
					<div class="d-flex flex-row">
						<div class="pl-1 text-white w-100" >
							<b> Sposoby płatności </b>
						</div>
					</div>
				</div>	
			
				<div id="paymentsCard" class="collapse" data-parent="#accordion">
					<div class="card-body">
						<label><b> Kategoria </b></label>
						
						<form id="payments" method="post">
						</form>
						
					</div>
				</div>
			</div>

			<div class="card">
			
				<div class="bg-info pointer" data-toggle="collapse" data-target="#user" >
					<div class="d-flex flex-row">
						<div class="pl-1 text-white w-100" >
							<b> Użytkownik </b>
						</div>
					</div>
				</div>	
			
				<div id="user" class="collapse" data-parent="#accordion">
					<div class="card-body">
						<label class="mb-0 mt-1"><b> Imię </b></label>
						
						<div class="form-check mt-0">
							<div class="d-flex flex-row">
								<label class="col-form-label">
									Pieter 
								</label>
			
								<div class="mr-1">
									<div class="btn btn-info p-0" onclick="edit({{ user_id }})"> Edytuj </div>
								</div>
							</div>
						</div>	
						
						<label class="mb-0 mt-1"><b> E-mail </b></label>
						
						<div class="form-check mt-0">
							<div class="d-flex flex-row">
								<label class="col-form-label mt-0">
									 pieterkycia@gmail.com 
								</label>
			
								<div class="mr-1">
									<div class="btn btn-info p-0" onclick="edit({{ user_id }})"> Edytuj </div>
								</div>
							</div>
						</div>	
						
						<label class="mb-0 mt-1"><b> Hasło </b></label>
						
						<div class="form-check mt-0">
							<div class="d-flex flex-row">
								<label class="col-form-label">
									Hasło
								</label>
			
								<div class="mr-1">
									<div id="password" class="btn btn-info p-0" onclick="edit({{ user_id }})"> Edytuj </div>
								</div>
							</div>
						</div>	
							
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<!-- Incomes Modal -->
	<div class="modal fade" id="incomesModal" role="dialog">
	
		<div class="modal-dialog modal-lg">
		
			<div class="modal-content">
			
				<div class="modal-header">
					<h4 class="modal-title"> Edycja kategorii </h4>
					<button type="button" class="close btn-close" data-dismiss="modal">&times;</button>			
				</div>
				
				<form id="incomesModalForm" method="post">
				
					<div class="modal-body">
						<label class="mb-0 mt-2" for="username"><b> Nazwa kategorii <b></label>
						<input class="form-control" type="text" id="incomesModalName" name="incomes_category" />
						<input class="form-control" type="hidden" id="incomesModalId" name="incomes_id" />
					</div>
					
					<div class="modal-footer">
						<div class="row m-0 w-100">
							<div type="button" class="col btn btn-info" 
								onclick="updateCategory('incomes')"> Zmień </div> 
							<div class="col ml-2 btn btn-danger" data-dismiss="modal"> Anuluj </div>
						</div>
					</div>
					
				</form>
				
			</div>
		</div>
	</div>
	
	<!-- Expenses Modal -->
	<div class="modal fade" id="expensesModal" role="dialog">
	
		<div class="modal-dialog modal-lg">
		
			<div class="modal-content">
			
				<div class="modal-header">
					<h4 class="modal-title"> Edycja kategorii </h4>
					<button type="button" class="close btn-close" data-dismiss="modal">&times;</button>			
				</div>
				
				<form id="expensesModalForm" method="post" action="/profile/showBalance">
				
					<div class="modal-body">
					
						<label class="mb-0 mt-2" for="username"><b> Nazwa kategorii <b></label>
						<input class="form-control" type="text" id="expensesCategory" name="categoryName" 
						value ="Allegro" />

						<div class="mt-2">
							<label class="col-form-label">
								<input type="checkbox" id="categoryLimitCheck" name="categoryLimitCheck" onclick="activeField()" />
								Włącz limit kategorii
							</label>
						</div>
						
						<label class="mb-0 mt-2" for="amount"><b> Ustaw miesięczny limit kategorii </b></label>
						<input class="form-control" type="number" id="categoryLimit" name="categoryLimit" step="0.01" disabled/>
						
					</div>
					
					<div class="modal-footer">
					
						<div class="row m-0 w-100">
							<div type="button" class="col btn btn-info"> Zmień </div> 
							<div class="col ml-2 btn btn-danger" data-dismiss="modal"> Anuluj </div>
						</div>
						
					</div>
					
				</form>
				
			</div>
		</div>
	</div>
	
	<!-- Payments Modal -->
	<div class="modal fade" id="paymentsModal" role="dialog">
	
		<div class="modal-dialog modal-lg">
		
			<div class="modal-content">
			
				<div class="modal-header">
					<h4 class="modal-title"> Edycja kategorii </h4>
					<button type="button" class="close btn-close" data-dismiss="modal">&times;</button>			
				</div>
				
				<form id="paymentsModalForm" method="post" action="/profile/showBalance">
				
					<div class="modal-body">
					
						<label class="mb-0 mt-2" for="username"><b> Nazwa kategorii <b></label>
						<input class="form-control" type="text" id="paymentsCategory" name="categoryName" 
						value ="Payments" />

					</div>
					
					<div class="modal-footer">
					
						<div class="row m-0 w-100">
							<div type="button" class="col btn btn-info"> Zmień </div> 
							<div class="col ml-2 btn btn-danger" data-dismiss="modal"> Anuluj </div>
						</div>
						
					</div>
					
				</form>
				
			</div>
		</div>
	</div>
	<script src="/js/settings.js"></script>
	

{% endblock %}