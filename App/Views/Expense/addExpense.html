{% extends "base2.html" %}

{% block title %}Add Expense{% endblock %}

{% block body %}

	<div class="container">
		<div class="col-md-10 mx-auto">
			<div class="shadow-lg app-description p-3">
				<h2 class="pl-3">Dodawanie wydatku</h2>
				
				<form method="post" action="/profile/addExpense">
	
					<div class="row pl-3 mt-3">
						<div class="pl-3">
							<label for="amount">Kwota:</label>
						</div>
						<div class="col-8 col-lg-5">
							<input type="text" id="amount" name="amount" class="form-control" step="0.01" 
							value="{{ expense.amount }}"/>
						</div>
					</div>
					
					{% if expense.errors['error_amount'] %}
						<div class="error pl-3">
							{{ expense.errors['error_amount'] }}
						</div>
					{% endif %}
						
					<div class="row pl-3 mt-3">
						<div class="pl-3">
							<label for="date">Data:</label>
						</div>	
						<div class="col-8 col-lg-5">
							<input type="date" id="date" name="date" class="form-control" value="{{ date }}"/>
						</div>
					</div>
					
					{% if expense.errors['error_date'] %}
						<div class="error pl-3">
							{{ expense.errors['error_date'] }}
						</div>
					{% endif %}
					
					<div class="px-3 mt-3">
						<fieldset class="col shadow-xl rounded-xl">
							<legend class="w-auto p-2"> Sposób płatności </legend>
							
							{% for payment in payments %}
								<div>
									<label>
										<input type="radio" name="payment_category" value="{{ payment['id'] }}"
										{% if expense.payment_category == payment['id'] %} checked {% endif %} />
										{{ payment['name'] }}
									</label>
								</div>
							{% endfor %}
							
							{% if expense.errors['error_payment'] %}
								<div class="error">
									{{ expense.errors['error_payment'] }}
								</div>
							{% endif %}
					
						</fieldset>
					</div>
					
					<div class="px-3 mt-3">
						<fieldset class="col shadow-xl rounded-xl">
							<legend class="w-auto p-2"> Kategoria </legend>
							
							{% for exp in expenses %}
								<div>
									<label>
										<input type="radio" name="category" value="{{ exp['id'] }}"
										{% if expense.category == exp['id'] %} checked {% endif %} />
										{{ exp['name'] }}
									</label>
								</div>
							{% endfor %}
							
							{% if expense.errors['error_radio'] %}
								<div class="error">
									{{ expense.errors['error_radio'] }}
								</div>
							{% endif %}
							
							<div class="mt-3">
								<label for="comment">Komentarz (opcjonalnie):</label>
							</div> 
							<textarea class="form-control col-lg-11 rounded-xl mb-3" id="comment" name="comment" rows="5">{{ expense.comment }}</textarea>
						</fieldset>
					</div>
						
					<div class="pl-3 mt-3">
						<input type="submit" class="btn btn-lg btn-success px-4" value="Dodaj"/>
						<input type="reset" class="btn btn-lg btn-danger" value="Wyczyść"/>
					</div>
					
				</form>
				
			</div>
		</div>
	</div>
	
{% endblock %}
