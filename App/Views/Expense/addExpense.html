{% extends "base2.html" %}

{% block title %}Add Expense{% endblock %}

{% block body %}

	<div class="container p-3 bg-light rounded shadow-custom">
	
		<div class="col">
			
			<h2>Dodawanie wydatku<hr></hr></h2>
				
			<form method="post" action="/profile/addExpense">
				
				<label class="mb-0 mt-2" for="amount"><b> Kwota </b></label>
				<input class="form-control" type="text" id="amount" name="amount" step="0.01"
					value="{{ expense.amount }}" />
				
				{% if expense.errors['error_amount'] %}
					<div class="error">
						{{ expense.errors['error_amount'] }}
					</div>
				{% endif %}
					
				<label class="mb-0 mt-2" for="date"><b> Data </b></label>
				<input class="form-control" type="date" id="date" name="date"
					value="{{ date }}" />
					
				{% if expense.errors['error_date'] %}
					<div class="error">
						{{ expense.errors['error_date'] }}
					</div>
				{% endif %}

				<label class="mb-0 mt-2" for="payment_category"><b> Metoda płatności </b></label>
				
				<select class="form-control" id="payment_category" name="payment_category">
					{% for payment in payments %}
						<option value="{{ payment['id'] }}"
							{% if expense.payment_category == payment['id'] %} selected {% endif %} />
							{{ payment['name'] }}
						</option>
					{% endfor %}
				</select>
				
				{% if expense.errors['error_payment'] %}
					<div class="error">
						{{ expense.errors['error_payment'] }}
					</div>
				{% endif %}

				<label class="mb-0 mt-2"><b> Kategoria </b></label>
				
				{% for exp in expenses %}
					<div class="form-check">
						<label class="col-form-label">
							<input type="radio" name="category"  value="{{ exp['id'] }}"
								{% if expense.category == exp['id'] %} checked {% endif %} />
							{{ exp['name'] }}
						</label>
					</div>		
				{% endfor %}	

				{% if expense.errors['error_radio'] %}
					<div class="error">
						{{ expense.errors['error_radio'] }}
					</div>
				{% endif %}
								
				<div class="form-group">
					<label class="mb-0 mt-2" for="comment"><b> Komentarz </b></label>
					<textarea class="form-control" id="comment" name="comment">{{ expense.comment }}</textarea>
				</div> 
						
				<div class="row m-0">
					<input type="submit" class="col btn btn-info" value="Dodaj" />
					<input type="reset" class="col ml-2 btn btn-danger" value="Wyczyść" />
				
			</form>	
		</div>
	</div>
	
{% endblock %}
